import{_ as e,c as t,r as o}from"./index-6a1593c4.js";const r={data(){const e=(e,t,o)=>{t.length<5?o(new Error(this.$t("passLessError"))):o()};return{form:{password1:"",password2:""},registerRules:{password1:[{required:!0,trigger:"blur",validator:e}],password2:[{required:!0,trigger:"blur",validator:e}]},loading:!1,pwdType:"password"}},computed:{...Vuex.mapState(["docTitle"])},created(){document.title=this.docTitle,t().then((e=>{200===e.code&&(this.$store.commit("LOGIN_OUT"),this.$router.replace("/login").catch())}))},methods:{async register(){const e=new FormData;this.form.password1===this.form.password2?(e.set("password",CryptoJS.SHA224(this.form.password1).toString()),await o(e),this.$router.replace("/login").catch()):this.$message.error(this.$t("passDifferentError"))}}},s={class:"register-container"},a={class:"title-container"},l={class:"title"},d={class:"svg-container"},i={class:"svg-container"};const n=e(r,[["render",function(e,t,o,r,n,p){const u=Vue.resolveComponent("svg-icon"),c=Vue.resolveComponent("el-input"),V=Vue.resolveComponent("el-form-item"),m=Vue.resolveComponent("el-button"),w=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createElementBlock("div",s,[Vue.createVNode(w,{class:"register-form",model:n.form,rules:n.registerRules,ref:"form","label-position":"left"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",a,[Vue.createElementVNode("h3",l,Vue.toDisplayString(e.$t("setupPass")),1)]),Vue.createVNode(V,{prop:"password1"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",d,[Vue.createVNode(u,{"icon-class":"password"})]),Vue.createVNode(c,{name:"password1",type:n.pwdType,modelValue:n.form.password1,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.password1=e),placeholder:e.$t("inputPass"),"show-password":""},null,8,["type","modelValue","placeholder"])])),_:1}),Vue.createVNode(V,{prop:"password2"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",i,[Vue.createVNode(u,{"icon-class":"password"})]),Vue.createVNode(c,{name:"password2",type:n.pwdType,onKeyup:Vue.withKeys(p.register,["enter"]),modelValue:n.form.password2,"onUpdate:modelValue":t[1]||(t[1]=e=>n.form.password2=e),placeholder:e.$t("inputPassAgain"),"show-password":""},null,8,["type","onKeyup","modelValue","placeholder"])])),_:1}),Vue.createVNode(V,null,{default:Vue.withCtx((()=>[Vue.createVNode(m,{type:"primary",style:{width:"100%"},loading:n.loading,onClick:Vue.withModifiers(p.register,["prevent"])},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("register")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"])])}],["__scopeId","data-v-ed083c33"]]);export{n as default};
